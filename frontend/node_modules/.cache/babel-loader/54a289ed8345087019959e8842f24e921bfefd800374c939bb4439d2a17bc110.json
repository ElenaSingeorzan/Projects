{"ast":null,"code":"const api = axios.create({\n  baseURL: 'http://localhost:8081' // URL-ul backend-ului tău Spring Boot\n});\nexport const registerUser = userData => {\n  return api.post('/users', userData);\n};\nexport const loginUser = userData => {\n  return api.post('/login', userData);\n};\nimport axios from 'axios';\nconst API_URL = 'http://localhost:8081';\n\n// Retrieve the token from localStorage\nconst token = localStorage.getItem('jwtToken');\nconsole.log(token);\nexport const getPosts = token => {\n  return axios.get(`${API_URL}/posts`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\n//const userId = localStorage.getItem('userId');\nexport const getPostsforUser = token => {\n  return axios.get(`${API_URL}/users/posts`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const createPost = (postData, token) => {\n  return axios.post(`${API_URL}/posts`, postData, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const updatePost = (postId, postData, token) => {\n  return axios.put(`${API_URL}/posts/${postId}`, postData, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const deletePost = (postId, token) => {\n  return axios.delete(`${API_URL}/posts/${postId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const addComment = (postId, commentData, token) => {\n  return axios.post(`${API_URL}/posts/${postId}/comments`, commentData, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\n\n// };\n// export const addComment = (postId, comment, token) => {\n//   const data = { content: comment };  // Define data with content\n//   return axios.post(`${API_URL}/posts/${postId}/comments`, data, {\n//     headers: {\n//       Authorization: `Bearer ${token}`, // Ensure token is sent correctly\n//     },\n//   })\n//   .then(response => {\n//     console.log('Comment added successfully!', response.data);\n//   })\n//   .catch(error => {\n//     console.error('Error adding comment:', error.response ? error.response.data : error);\n//   });\n// };","map":{"version":3,"names":["api","axios","create","baseURL","registerUser","userData","post","loginUser","API_URL","token","localStorage","getItem","console","log","getPosts","get","headers","Authorization","getPostsforUser","createPost","postData","updatePost","postId","put","deletePost","delete","addComment","commentData"],"sources":["C:/Users/Elena/Desktop/an4/sem1/SCD/Proiect/frontend/src/services/api.js"],"sourcesContent":["const api = axios.create({\r\n    baseURL: 'http://localhost:8081', // URL-ul backend-ului tău Spring Boot\r\n});\r\n\r\n\r\nexport const registerUser = (userData) => {\r\n    return api.post('/users', userData);\r\n};\r\nexport const loginUser = (userData) => {\r\n    return api.post('/login', userData);\r\n};\r\n\r\nimport axios from 'axios';\r\nconst API_URL = 'http://localhost:8081';\r\n\r\n\r\n// Retrieve the token from localStorage\r\nconst token = localStorage.getItem('jwtToken');\r\n\r\nconsole.log(token);\r\n\r\nexport const getPosts = (token) => {\r\n    return axios.get(`${API_URL}/posts`, {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n    });\r\n};\r\n//const userId = localStorage.getItem('userId');\r\nexport const getPostsforUser = (token) => {\r\n  return axios.get(`${API_URL}/users/posts`, {\r\n      headers: {\r\n          Authorization: `Bearer ${token}`, \r\n      },\r\n  });\r\n};\r\n\r\nexport const createPost = (postData, token) => {\r\n    return axios.post(`${API_URL}/posts`, postData, {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`, \r\n        },\r\n    });\r\n};\r\nexport const updatePost = (postId, postData, token) => {\r\n  return axios.put(`${API_URL}/posts/${postId}`, postData, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`, \r\n    },\r\n  });\r\n};\r\n\r\nexport const deletePost = (postId, token) => {\r\n  return axios.delete(`${API_URL}/posts/${postId}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`, \r\n    },\r\n  });\r\n};\r\n\r\nexport const addComment = (postId, commentData, token) => {\r\n  return axios.post(`${API_URL}/posts/${postId}/comments`,\r\n    commentData, \r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\n\r\n// };\r\n// export const addComment = (postId, comment, token) => {\r\n//   const data = { content: comment };  // Define data with content\r\n//   return axios.post(`${API_URL}/posts/${postId}/comments`, data, {\r\n//     headers: {\r\n//       Authorization: `Bearer ${token}`, // Ensure token is sent correctly\r\n//     },\r\n//   })\r\n//   .then(response => {\r\n//     console.log('Comment added successfully!', response.data);\r\n//   })\r\n//   .catch(error => {\r\n//     console.error('Error adding comment:', error.response ? error.response.data : error);\r\n//   });\r\n// };\r\n"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,KAAK,CAACC,MAAM,CAAC;EACrBC,OAAO,EAAE,uBAAuB,CAAE;AACtC,CAAC,CAAC;AAGF,OAAO,MAAMC,YAAY,GAAIC,QAAQ,IAAK;EACtC,OAAOL,GAAG,CAACM,IAAI,CAAC,QAAQ,EAAED,QAAQ,CAAC;AACvC,CAAC;AACD,OAAO,MAAME,SAAS,GAAIF,QAAQ,IAAK;EACnC,OAAOL,GAAG,CAACM,IAAI,CAAC,QAAQ,EAAED,QAAQ,CAAC;AACvC,CAAC;AAED,OAAOJ,KAAK,MAAM,OAAO;AACzB,MAAMO,OAAO,GAAG,uBAAuB;;AAGvC;AACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;AAE9CC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;AAElB,OAAO,MAAMK,QAAQ,GAAIL,KAAK,IAAK;EAC/B,OAAOR,KAAK,CAACc,GAAG,CAAC,GAAGP,OAAO,QAAQ,EAAE;IACjCQ,OAAO,EAAE;MACLC,aAAa,EAAE,UAAUR,KAAK;IAClC;EACJ,CAAC,CAAC;AACN,CAAC;AACD;AACA,OAAO,MAAMS,eAAe,GAAIT,KAAK,IAAK;EACxC,OAAOR,KAAK,CAACc,GAAG,CAAC,GAAGP,OAAO,cAAc,EAAE;IACvCQ,OAAO,EAAE;MACLC,aAAa,EAAE,UAAUR,KAAK;IAClC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMU,UAAU,GAAGA,CAACC,QAAQ,EAAEX,KAAK,KAAK;EAC3C,OAAOR,KAAK,CAACK,IAAI,CAAC,GAAGE,OAAO,QAAQ,EAAEY,QAAQ,EAAE;IAC5CJ,OAAO,EAAE;MACLC,aAAa,EAAE,UAAUR,KAAK;IAClC;EACJ,CAAC,CAAC;AACN,CAAC;AACD,OAAO,MAAMY,UAAU,GAAGA,CAACC,MAAM,EAAEF,QAAQ,EAAEX,KAAK,KAAK;EACrD,OAAOR,KAAK,CAACsB,GAAG,CAAC,GAAGf,OAAO,UAAUc,MAAM,EAAE,EAAEF,QAAQ,EAAE;IACvDJ,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUR,KAAK;IAChC;EACF,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMe,UAAU,GAAGA,CAACF,MAAM,EAAEb,KAAK,KAAK;EAC3C,OAAOR,KAAK,CAACwB,MAAM,CAAC,GAAGjB,OAAO,UAAUc,MAAM,EAAE,EAAE;IAChDN,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUR,KAAK;IAChC;EACF,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMiB,UAAU,GAAGA,CAACJ,MAAM,EAAEK,WAAW,EAAElB,KAAK,KAAK;EACxD,OAAOR,KAAK,CAACK,IAAI,CAAC,GAAGE,OAAO,UAAUc,MAAM,WAAW,EACrDK,WAAW,EACX;IACEX,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUR,KAAK;IAChC;EACF,CACF,CAAC;AACH,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment, renderList as _renderList, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"post-item\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  key: 2\n};\nconst _hoisted_6 = {\n  key: 3\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_else = _resolveComponent(\"v-else\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h2\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleDetails && $options.toggleDetails(...args))\n  }, _toDisplayString($props.post.title), 1 /* TEXT */), $data.showDetails ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createCommentVNode(\" Afișare formular dacă este în modul de editare \"), $data.isEditing ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[11] || (_cache[11] = _createElementVNode(\"h3\", null, \"Edit Post\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.editedTitle = $event),\n    placeholder: \"Edit title\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedTitle]]), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.editedContent = $event),\n    placeholder: \"Edit content\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editedContent]]), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.saveEdit && $options.saveEdit(...args))\n  }, \"Save\"), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.cancelEdit && $options.cancelEdit(...args))\n  }, \"Cancel\")])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Afișare detalii postare dacă nu este în modul de editare \"), _createElementVNode(\"div\", null, [_ctx.published ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"p\", null, _toDisplayString($props.post.content), 1 /* TEXT */), _createCommentVNode(\" Butoane pentru acțiuni \"), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.startEdit && $options.startEdit(...args))\n  }, \"Update Post\"), _createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.removePost && $options.removePost(...args))\n  }, \"Remove\"), _createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.toggleCommentForm && $options.toggleCommentForm(...args))\n  }, \"Add Comment\")])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_v_else, null, {\n    default: _withCtx(() => [_createElementVNode(\"p\", null, _toDisplayString($props.post.content), 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: _cache[8] || (_cache[8] = (...args) => $options.removePost && $options.removePost(...args))\n    }, \"Remove\")]),\n    _: 1 /* STABLE */\n  })])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Formular de adăugare comentariu \"), $data.showCommentForm ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.newComment = $event),\n    placeholder: \"Scrie un comentariu\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newComment]]), _createElementVNode(\"button\", {\n    onClick: _cache[10] || (_cache[10] = (...args) => $options.emitAddComment && $options.emitAddComment(...args))\n  }, \"Submit Comment\")])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Listă comentarii \"), $props.post.comments && $props.post.comments.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_cache[12] || (_cache[12] = _createElementVNode(\"h4\", null, \"Comments:\", -1 /* HOISTED */)), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.post.comments, (comment, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index\n    }, [_createElementVNode(\"div\", null, [_createElementVNode(\"strong\", null, _toDisplayString(comment.user.name), 1 /* TEXT */), _createTextVNode(\": \" + _toDisplayString(comment.content), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","onClick","_cache","args","$options","toggleDetails","$props","post","title","$data","showDetails","_hoisted_2","_createCommentVNode","isEditing","_hoisted_3","$event","editedTitle","placeholder","editedContent","saveEdit","cancelEdit","_Fragment","_ctx","published","_hoisted_4","_toDisplayString","content","startEdit","removePost","toggleCommentForm","_createVNode","_component_v_else","default","_withCtx","_","showCommentForm","_hoisted_5","newComment","emitAddComment","comments","length","_hoisted_6","_renderList","comment","index","user","name","_createTextVNode"],"sources":["C:\\Users\\Elena\\Desktop\\an4\\sem1\\SCD\\Proiect\\frontend\\src\\components\\PostItem.vue"],"sourcesContent":["\r\n<template>\r\n  <div class=\"post-item\">\r\n    <h2 @click=\"toggleDetails\">{{ post.title }}</h2>\r\n\r\n    <div v-if=\"showDetails\">\r\n      <!-- Afișare formular dacă este în modul de editare -->\r\n      <div v-if=\"isEditing\">\r\n        <h3>Edit Post</h3>\r\n        <input v-model=\"editedTitle\" placeholder=\"Edit title\" />\r\n        <textarea v-model=\"editedContent\" placeholder=\"Edit content\"></textarea>\r\n        <button @click=\"saveEdit\">Save</button>\r\n        <button @click=\"cancelEdit\">Cancel</button>\r\n      </div>\r\n      <!-- Afișare detalii postare dacă nu este în modul de editare -->\r\n      <div v-else>\r\n        <div v-if=\"published\">\r\n        <p>{{ post.content }}</p>\r\n\r\n        <!-- Butoane pentru acțiuni -->\r\n        <button @click=\"startEdit\">Update Post</button>\r\n        <button @click=\"removePost\">Remove</button>\r\n        <button @click=\"toggleCommentForm\">Add Comment</button>\r\n      </div>\r\n        <v-else>\r\n          <p>{{ post.content }}</p>\r\n          <button @click=\"removePost\">Remove</button>\r\n        </v-else>\r\n      </div>\r\n\r\n      <!-- Formular de adăugare comentariu -->\r\n      <div v-if=\"showCommentForm\">\r\n        <textarea v-model=\"newComment\" placeholder=\"Scrie un comentariu\"></textarea>\r\n        <button @click=\"emitAddComment\">Submit Comment</button>\r\n      </div>\r\n\r\n      <!-- Listă comentarii -->\r\n      <div v-if=\"post.comments && post.comments.length\">\r\n        <h4>Comments:</h4>\r\n        <ul>\r\n          <li v-for=\"(comment, index) in post.comments\" :key=\"index\">\r\n            <div>\r\n              <strong>{{ comment.user.name }}</strong>: {{ comment.content }}\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    post: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showDetails: false,\r\n      showCommentForm: false,\r\n      isEditing: false, // Modul de editare activ/inactiv\r\n      editedTitle: '', // Titlu temporar pentru editare\r\n      editedContent: '', // Conținut temporar pentru editare\r\n      newComment: '' // Comentariu nou\r\n    };\r\n  },\r\n  methods: {\r\n    toggleDetails() {\r\n      this.showDetails = !this.showDetails;\r\n    },\r\n    toggleCommentForm() {\r\n      this.showCommentForm = !this.showCommentForm;\r\n    },\r\n    startEdit() {\r\n      // Activează modul de editare și pre-populează datele\r\n      this.isEditing = true;\r\n      this.editedTitle = this.post.title;\r\n      this.editedContent = this.post.content;\r\n    },\r\n    cancelEdit() {\r\n      // Dezactivează modul de editare fără a salva modificările\r\n      this.isEditing = false;\r\n    },\r\n    saveEdit() {\r\n      // Verifică validitatea datelor și trimite modificările\r\n      if (this.editedTitle.trim() && this.editedContent.trim()) {\r\n        const updatedPost = {\r\n          id: this.post.id,\r\n          title: this.editedTitle,\r\n          content: this.editedContent,\r\n          status: 'PUBLISHED'\r\n        };\r\n        this.$emit('update-post', updatedPost); // Notifică părintele\r\n        this.isEditing = false; // Închide formularul de editare\r\n      } else {\r\n        alert('Title and content cannot be empty!');\r\n      }\r\n    },\r\n    removePost() {\r\n      this.$emit('remove-post', this.post.id);\r\n    },\r\n    emitAddComment() {\r\n    if (this.newComment.trim()) {\r\n      this.$emit('add-comment', this.post.id, this.newComment);\r\n      this.newComment = \"\"; // Resetează textarea\r\n    } else {\r\n      alert(\"Comentariul nu poate fi gol!\");\r\n    }\r\n  }\r\n}\r\n};\r\n</script>\r\n\r\n <style scoped>\r\n  .post-item {\r\n    border: 1px solid #ccc;\r\n    padding: 10px;\r\n    margin: 10px 0;\r\n  }\r\n  h2 {\r\n    cursor: pointer;\r\n  }\r\n  textarea {\r\n    width: 100%;\r\n    margin-top: 10px;\r\n  }\r\n  /* Adaugă stiluri pentru formularul de editare */\r\ntextarea, input {\r\n  display: block;\r\n  margin: 10px 0;\r\n  width: 100%;\r\n  padding: 8px;\r\n  font-size: 1rem;\r\n}\r\nbutton {\r\n  margin-right: 10px;\r\n}\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}